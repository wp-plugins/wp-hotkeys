function wphReset(){jQuery("#adminmenu li").removeClass("opensub wph-active"),wphRemoveAllHotkeys(),wphManualResets(),wphTopHotkeys()}function not_typing(){return jQuery("*:focus").is("textarea, input")?!1:!0}function wphTopHotkeys(){jQuery.each(menuItems,function(){var a=jQuery(this),b=a[0].url,c=a[0].hotkey,d=a[0].modifier,e=a[0].sub_items;if(d&&0!=d&&(c=d+"+"+c),b&&c){var g;jQuery.each(topLevelLinks,function(){var a=jQuery(this).attr("href"),c=a.length,d=b.length;a.indexOf(b)>=0&&c==a.indexOf(b)+d&&(g=jQuery(this))}),g&&1==showHints&&1>g.find(".hotkey-hint").length&&g.find(".wp-menu-name").prepend('<span class="hotkey-hint">['+c+"] </span>"),e&&jQuery.each(e,function(){var a=jQuery(this),b=a[0].url,c=a[0].hotkey,d=a[0].modifier;if(d&&0!=d&&(c=d+"+"+c),b&&c){var g,e=jQuery("#adminmenu > li > ul > li > a");jQuery.each(e,function(){var a=jQuery(this).attr("href"),c=a.length,d=b.length;a.indexOf(b)>=0&&c==a.indexOf(b)+d&&(g=jQuery(this))}),g&&1==showHints&&1>g.find(".hotkey-hint").length&&g.prepend('<span class="hotkey-hint">['+c+"] </span>")}}),not_typing()&&wphSetupHotkey(c,b,a,g,e)}})}function wphSubHotkeys(a){var b=a[0].sub_items;jQuery.each(b,function(){var a=jQuery(this),b=a[0].url,c=a[0].hotkey,d=a[0].modifier;d&&0!=d&&(c=d+"+"+c),wphSetupHotkey(c,b)})}function wphArrowHotkeys(){wphSetupHotkey("up"),wphSetupHotkey("down"),wphSetupHotkey("right"),wphSetupHotkey("left"),wphSetupHotkey("return")}function wphSetupHotkey(a,b,c,d,e){if(a){var f="keydown",g=!1;jQuery.hotkeys.add(a,{type:f,propagate:g},function(){not_typing()&&(a&&b&&d&&(jQuery("#adminmenu li").removeClass("opensub wph-active"),wphReset(),d.parents("li").addClass("opensub wph-active"),e?(wphSubHotkeys(c),wphArrowHotkeys()):window.location=adminUrl+b),a&&b&&!d&&(window.location=adminUrl+b),"up"==a&&jQuery(".wph-active").prevAll("li").has("a").length>0&&jQuery(".wph-active").removeClass("opensub wph-active").prevAll("li").has("a").first().addClass("opensub wph-active"),"down"==a&&jQuery(".wph-active").nextAll("li").has("a").length>0&&jQuery(".wph-active").removeClass("opensub wph-active").nextAll("li").has("a").first().addClass("opensub wph-active"),"right"==a&&jQuery(".wph-active").children("ul").length>0&&jQuery(".wph-active").removeClass("wph-active").find("ul a").first().parent("li").addClass("wph-active"),"left"==a&&jQuery(".wph-active").parents("ul").parent("li").length>0&&jQuery(".wph-active").removeClass("wph-active").parents("ul").parent("li").addClass("opensub wph-active"),"return"==a&&(window.location=jQuery(".wph-active > a").attr("href")),closeHoverHotkey==a&&wphReset())}),wphActiveHotkeys.push(a)}}function wphRemoveAllHotkeys(){jQuery.each(wphActiveHotkeys,function(a,b){jQuery.hotkeys.remove(b)})}function wphManualResets(){wphSetupCloseHoverHotkey(),jQuery("html").unbind("click").click(function(){wphReset()})}function wphSetupCloseHoverHotkey(){closeHoverHotkey&&wphSetupHotkey(closeHoverHotkey)}function wphConfirmReset(){return confirm("Are you sure you want to reset plugin defaults?")}topLevelLinks="",wphActiveHotkeys=new Array;var menuItems=phpVars.menuItems,adminUrl=phpVars.adminUrl,showHints=phpVars.showHints,closeHoverHotkey=phpVars.closeHoverHotkey,closeHoverHotkeyModifier=phpVars.closeHoverHotkeyModifier;closeHoverHotkeyModifier&&0!=closeHoverHotkeyModifier&&(closeHoverHotkey=closeHoverHotkeyModifier+"+"+closeHoverHotkey),jQuery(document).ready(function(){topLevelLinks=jQuery("#adminmenu > li > a"),wphReset(),jQuery("input, textfield").blur(function(){wphReset()}),jQuery("input, textfield").focus(function(){wphRemoveAllHotkeys()}),jQuery(".wh-reset").click(function(){return wphConfirmReset()})});